<html>
<head>
	<title>FITS with Javascript</title>
	<script src="jquery-1.4.2.js"></script>
	<script src="binaryajax.js"></script>
	<script src="fits.js"></script>
	<script src="http://lcogt.net/en/user/slowe/dev/virtualsky/excanvas.js"></script>
	<script type="text/javascript">
	<!--

		var i = 0
		var fits = new FITS("l_e_20110215_205_1_1_1.fits");
		fits.load(loaded);

		function loaded(obj){
			var str = '';
			var i = 0;
			str = 'NAXIS='+obj.header.NAXIS+'<br />OBSID='+obj.header.OBSID+'<br />i='+i+'<br />BITPIX='+obj.header.BITPIX+'<br />BSCALE='+obj.header.BSCALE+'<br />BZERO='+obj.header.BZERO+' ';
			if(str.length == 0) str = "No FITS header found.";
			$('#header').html(str);
			
			obj.drawImage('FITSimage',"cuberoot")
		}
		function update(el){
			property = (el) ? el.name : "";
			value = (el) ? el.value : "";
			fits = new FITS(value);
			fits.load(loaded)
		}
	// --></script>

	<style>
	body {
		margin: 10px;
		font-family: Arial, sans-serif;
		background-color: white;
		color: black;
	}
	a { color: #5555aa; }
	img { border: 1px solid #5555aa; }
	code { color: #5555aa; }
	pre { color: #5555aa; }
	</style>
</head>
<body>

	<h1>FITS extraction with Javascript</h1>
	<select name="FITS" onChange="update(this)">
		<option selected>l_e_20110215_205_1_1_1.fits</option>
		<option>l_e_20110215_203_1_1_1.fits</option>
		<option>l_e_20090603_64_18_1_1.fits</option>
	</select>
	<div id="header"></div>
	<div id="FITSimage"></div>

</body>
</html>
